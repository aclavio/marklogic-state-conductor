{
  "Comment": "Adds documents to a batch file",
  "mlDomain": {
    "contentDatabase": "state-conductor-content",
    "modulesDatabase": "state-conductor-modules",
    "context": [
      {
        "scope": "directory",
        "value": "/batch/"
      }
    ]
  },
  "StartAt": "BatchAddCollections",
  "States": {
    "BatchAddCollections": {
      "Type": "Task",
      "Comment": "adds collections to each file in the batch",
      "Resource": "/state-conductor/actions/common/examples/batchAddCollections.sjs",
      "Parameters": {
        "collections": ["batchProcessed"]
      },
      "Next": "BatchAddEnvelope"
    },
    "BatchAddEnvelope": {
      "Type": "Task",
      "Comment": "wraps to each file in the batch in an envelope",
      "Resource": "/state-conductor/actions/common/examples/batchMakeEnvelope.sjs",
      "Next": "Success"
    },
    "Success": {
      "Type": "Succeed"
    }
  }
}