{
  "flowName": "kafka-data-flow",
  "description": "processes data from the MarkLogic Kafka Connector",
  "contentDatabase": "state-conductor-content",
  "modulesDatabase": "state-conductor-modules",
  "context": [
    {
      "domain": "collection",
      "value": "kafka-data"
    }
  ],
  "initialState": "needs-envelope",
  "states": [
    {
      "stateName": "needs-envelope",
      "description": "wraps the content in an envelope",
      "actions": [
        {
          "actionModule": "/state-conductor/actions/make-envelope.sjs"
        }
      ],
      "transitions": [
        {
          "targetState": "run-dhf5-flow"
        }
      ]
    },
    {
      "stateName": "run-dhf5-flow",
      "description": "runs a dhf 5 flow",
      "actions": [
        {
          "actionModule": "/state-conductor/actions/dhf5RunFlowStepAction.sjs",
          "options": {
            "flowName": "testFlow",
            "step": 1
          }
        }
      ]
    }
  ]      
}